# 代码优化

## 一些很细节和习惯

- const T &传递更快
- 避免重复运算：
  - 常见的有：
    - if-else循环体要多次判断一个加和，可以预先计算const sum=
    - n=x.size()
- --var比var--更快
  - （如果var是迭代器（Iterator）或自定义类对象），这里为了养成好习惯，就这么写了

## 循环相关

- 循环体内的变量，就放在局部。不要因为每次循环都创建，就建立在全局。
  - 这样可以确保最小作用域
  - 防止数据污染



## 内存相关

- 溢出防御：accumulate(..., 0LL)。使用 long long（0LL）可以防止中间结果超出 int 范围
- 内存预分配：vector<int> candies(kids, 1);。细节：一次性分配好空间并初始化为 1，避免了 push_back 导致的多次内存重分配